<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <script type="text/javascript">
      function tableVal() {
        var doc = document.forms[0]; // 첫번째 form
        var vals = [
          doc.id.value,
          doc.pw.value,
          doc.addr.value,
          doc.phone.value,
        ];

        // 유효성검사(유효값 처리)
        for (var i = 0; i < vals.length; i++) {
          if (vals[i] == null || vals[i].trim() == '' || vals[i] == undefined) {
            alert('모두 다 입력해 주세요!!');

            // 함수 자체를 종료
            return;
          }
        }

        document.getElementById('addtr').appendChild(createRow(vals));
      }

      function createRow(vals) {
        var tr = document.createElement('tr'); // <tr></tr>

        for (var i = 0; i < vals.length; i++) {
          var td = document.createElement('td');
          // <td></td>
          // <td></td>
          // <td></td>
          // <td></td>
          td.textContent = vals[i];
          // <td>id</td>
          // <td>pw</td>
          // <td>addr</td>
          // <td>phone</td>
          tr.appendChild(td);
          // <tr><td>id</td><td>pw</td><td>addr</td><td>phone</td></tr>
        }
        // <tr><td>id</td><td>pw</td><td>addr</td><td>phone</td></tr>

        var dTd = document.createElement('td');
        // <td></td>
        dTd.innerHTML =
          "<input type='button' value='삭제' onclick='delRow(this)'>";
        // <td><input type='button' value='삭제' onclick='delRow(this)'></td>
        tr.appendChild(dTd);
        // <tr>
        // 	  <td>id</td>
        //    <td>pw</td>
        //    <td>addr</td>
        //    <td>phone</td>
        //    <td><input type='button' value='삭제' onclick='delRow(this)'></td>
        // </tr>

        return tr;
      }

      function deleteVal() {
        var tbody = document.getElementById('addtr');
        while (tbody.hasChildNodes()) {
          tbody.removeChild(tbody.lastChild);
        }
      }

      function delRow(ele) {
        // <tr>
        // 	  <td>id</td>
        //    <td>pw</td>
        //    <td>addr</td>
        //    <td>phone</td>
        //    <td><input type='button' value='삭제' onclick='delRow(this)'></td> 'this'는 input 태그를 뜻함
        // </tr>

        var delTr = ele.parentNode.parentNode;
        var tbody = document.getElementById('addtr');
        tbody.removeChild(delTr);
      }
    </script>
  </head>
  <body>
    <!-- form 태그 안에서 input의 name이 key가 된다. -->
    <form>
      <table id="intable">
        <tr>
          <td>아이디:</td>
          <td><input type="text" name="id" /></td>
        </tr>
        <tr>
          <td>비밀번호:</td>
          <td><input type="text" name="pw" /></td>
        </tr>
        <tr>
          <td>주소:</td>
          <td><input type="text" name="addr" /></td>
        </tr>
        <tr>
          <td>전화번호:</td>
          <td><input type="text" name="phone" /></td>
        </tr>
      </table>
      <input type="button" value="추가" onclick="tableVal();" />
      <input type="button" value="삭제" onclick="deleteVal();" />
    </form>

    <div id="addtable">
      <table border="1" id="ctb">
        <col width="100px" />
        <col width="100px" />
        <col width="300px" />
        <col width="200px" />
        <col width="100px" />

        <thead>
          <tr>
            <th>아이디</th>
            <th>비밀번호</th>
            <th>주소</th>
            <th>전화번호</th>
            <th>삭제</th>
          </tr>
        </thead>

        <tbody id="addtr"></tbody>
      </table>
    </div>
  </body>
</html>
